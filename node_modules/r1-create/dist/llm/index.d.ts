/**
 * LLM and messaging module for R1 AI integration
 * Provides structured messaging and LLM interaction capabilities
 */
import type { PluginMessageResponse, SpeechSynthesisOptions } from '../types';
export interface LLMOptions {
    wantsR1Response?: boolean;
    wantsJournalEntry?: boolean;
}
export interface MessageOptions extends LLMOptions {
    useLLM?: boolean;
    useSerpAPI?: boolean;
    pluginId?: string;
    imageBase64?: string;
}
/**
 * Type-safe LLM response handler
 */
export type MessageHandler<T = any> = (response: PluginMessageResponse & {
    parsedData?: T;
}) => void;
/**
 * LLM and messaging API for R1 interactions
 */
export declare class R1Messaging {
    private messageHandlers;
    private isInitialized;
    constructor();
    /**
     * Send a simple message to the server
     * @param message Message text
     * @param options Message options
     */
    sendMessage(message: string, options?: MessageOptions): Promise<void>;
    /**
     * Send a message and get LLM response
     * @param message Message text
     * @param options LLM options
     */
    askLLM(message: string, options?: LLMOptions): Promise<void>;
    /**
     * Send a SERP API request for web search
     * @param query Search query
     * @param options Additional options
     */
    searchWeb(query: string, options?: Omit<MessageOptions, 'useSerpAPI'>): Promise<void>;
    /**
     * Send text for text-to-speech output (without LLM processing)
     * @param text Text to speak
     * @param options Additional options
     */
    speakText(text: string, options?: Omit<MessageOptions, 'useLLM' | 'wantsR1Response'>): Promise<void>;
    /**
     * Ask LLM to speak response through R1 speaker
     * @param message Message text
     * @param saveToJournal Whether to save interaction to journal
     */
    askLLMSpeak(message: string, saveToJournal?: boolean): Promise<void>;
    /**
     * Ask LLM for JSON structured response
     * @param message Message text (should specify desired JSON format)
     * @param options LLM options
     */
    askLLMJSON<T = any>(message: string, options?: LLMOptions): Promise<void>;
    /**
     * Add message handler for incoming responses
     * @param handler Function to handle incoming messages
     */
    onMessage<T = any>(handler: MessageHandler<T>): void;
    /**
     * Remove message handler
     * @param handler Handler function to remove
     */
    offMessage(handler: MessageHandler): void;
    /**
     * Remove all message handlers
     */
    removeAllHandlers(): void;
    /**
     * Close the current plugin/webview
     */
    closePlugin(): void;
    private initializeMessageHandler;
    /**
     * Generate audio file from text-to-speech (browser only)
     * Uses Web Speech API to synthesize speech and capture as audio blob
     * @param text Text to convert to audio
     * @param options Speech synthesis options
     * @returns Promise resolving to audio blob or null if not supported
     */
    textToSpeechAudio(text: string, options?: SpeechSynthesisOptions): Promise<Blob | null>;
}
/**
 * Convenient helper functions for common LLM interactions
 */
export declare class LLMHelpers {
    private messaging;
    constructor(messaging: R1Messaging);
    /**
     * Ask LLM about user memories/context
     */
    getUserMemories(): Promise<void>;
    /**
     * Ask LLM to analyze an image or data
     * @param prompt Analysis prompt
     * @param data Optional data to analyze
     */
    analyzeData(prompt: string, data?: any): Promise<void>;
    /**
     * Ask LLM to perform a task and speak the result
     * @param task Task description
     * @param saveToJournal Whether to save to journal
     */
    performTask(task: string, saveToJournal?: boolean): Promise<void>;
    /**
     * Convert text to speech using R1 speaker (no LLM processing)
     * @param text Text to speak
     * @param saveToJournal Whether to save to journal
     */
    textToSpeech(text: string, saveToJournal?: boolean): Promise<void>;
    /**
     * Get LLM suggestions for user interface
     * @param context Current UI context
     */
    getUISuggestions(context: string): Promise<void>;
    /**
     * Generate audio file from text-to-speech (browser only)
     * @param text Text to convert to audio
     * @param options Speech synthesis options
     */
    textToSpeechAudio(text: string, options?: SpeechSynthesisOptions): Promise<Blob | null>;
}
export declare const messaging: R1Messaging;
export declare const llmHelpers: LLMHelpers;
//# sourceMappingURL=index.d.ts.map